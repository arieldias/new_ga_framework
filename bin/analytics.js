// Generated by CoffeeScript 1.7.1
(function() {
  window.MWAnalytics = (function() {
    function MWAnalytics(accounts) {
      var account, trackerName, _i, _len, _ref;
      this.accounts = accounts;
      _ref = this.accounts;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        account = _ref[_i];
        trackerName = account.config.name;
        __mwgaTracker('create', account.account, {
          name: trackerName
        });
        __mwgaTracker("" + trackerName + ".require", 'linker');
        __mwgaTracker("" + trackerName + ".require", 'linkid', 'linkid.js');
        if (document.head.getAttribute("data-mw-ga-ecomm") !== null) {
          __mwgaTracker("" + trackerName + ".require", 'ecommerce.js');
        }
      }
    }

    MWAnalytics.prototype.track = function(tEvent, e) {
      var account, cmd, hit, trackerName, _i, _len, _ref, _results;
      hit = tEvent.getHit();
      console.log(hit);
      cmd = tEvent.type;
      _ref = this.accounts;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        account = _ref[_i];
        trackerName = account.config.name;
        if (trackerName === prefixes.rollup) {
          if (hit.hitType !== 'event') {
            _results.push(__mwgaTracker("" + trackerName + "." + cmd, hit));
          } else {
            _results.push(void 0);
          }
        } else {
          _results.push(__mwgaTracker("" + trackerName + "." + cmd, hit));
        }
      }
      return _results;
    };

    return MWAnalytics;

  })();

  
  if (typeof window.__mwgaTracker === 'undefined') {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','__mwgaTracker');
  };

}).call(this);
